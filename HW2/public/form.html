<!--Homework 2 
New user form collects the relevant data for a new person from the user using a form and sends that data to the server to be added to the in-memory database.
Author: Moses M.
 -->
<html>
<head>
  <title>New User Form</title>
  <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <script src="//code.jquery.com/jquery-latest.min.js"></script>
  <script src="app.js"></script>
  <script src="jquery.js"></script>
</head>

<body>
  <div class="form" >

    <h1>Create a new account</h1>
    <a href="index.html"> Click to search a person by id</a>
    <form id="person" method="POST" action="/people">
      <div >
        <label for="id">Enter your desired Id: </label>
        <input type="text" name="id">
      </div>

      <div>
        <label for="fName">Enter your first name: </label>
        <input type="text" name="fName">
      </div>

      <div >
        <label for="lName">Enter your last name: </label>
        <input type="text" name="lName">
      </div>

      <div>
        <label for="start">When is your start date? </label>
        <input type="text" name="start">
      </div>

      <button type="submit" class="ui-button ui-widget ui-corner-all">Submit</button>

    </form>
  </div>

  <script>
    $( '#person' ).submit(function( event ) {
      event.preventDefault();
      var form = $( this );
      var results = "";
      $.ajax({
        type: 'POST',
        url: '/people',
        data: form.serialize(),
        dataType: 'json'
      })
      .done(function(res){
        alert("Success");
      })
      .fail(function(xhr, status, errorThrown) {
        alert( "Cannot store new person into database" );
      });
  });
</script>


</body>
</html>